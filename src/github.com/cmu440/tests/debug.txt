=== TestMailboxBasic1: Push and pop a message
=== TestMailboxBasic2: Multiple push/pop in series
=== TestMailboxBasic3: Multiple push/pop interleaved
=== TestMailboxPushBlock: Push shouldn't block
=== TestMailboxPopBlock: Pop should block when no message, and close unblocks pop
==================
WARNING: DATA RACE
Write at 0x00c000368590 by goroutine 26:
  github.com/cmu440/actor.(*Mailbox).Close()
      /afs/andrew.cmu.edu/usr2/ziqil2/private/15440/p3/src/github.com/cmu440/actor/mailbox.go:86 +0x37
  github.com/cmu440/tests.TestMailboxPopBlock.func2()
      /afs/andrew.cmu.edu/usr2/ziqil2/private/15440/p3/src/github.com/cmu440/tests/mailbox_test.go:196 +0x2e

Previous read at 0x00c000368590 by goroutine 24:
  github.com/cmu440/actor.(*Mailbox).Pop()
      /afs/andrew.cmu.edu/usr2/ziqil2/private/15440/p3/src/github.com/cmu440/actor/mailbox.go:65 +0x44
  github.com/cmu440/tests.TestMailboxPopBlock.func1()
      /afs/andrew.cmu.edu/usr2/ziqil2/private/15440/p3/src/github.com/cmu440/tests/mailbox_test.go:183 +0x3b

Goroutine 26 (running) created at:
  github.com/cmu440/tests.TestMailboxPopBlock()
      /afs/andrew.cmu.edu/usr2/ziqil2/private/15440/p3/src/github.com/cmu440/tests/mailbox_test.go:195 +0x344
  testing.tRunner()
      /usr/lib/go-1.18/src/testing/testing.go:1439 +0x213
  testing.(*T).Run.func1()
      /usr/lib/go-1.18/src/testing/testing.go:1486 +0x47

Goroutine 24 (running) created at:
  github.com/cmu440/tests.TestMailboxPopBlock()
      /afs/andrew.cmu.edu/usr2/ziqil2/private/15440/p3/src/github.com/cmu440/tests/mailbox_test.go:182 +0x1fe
  testing.tRunner()
      /usr/lib/go-1.18/src/testing/testing.go:1439 +0x213
  testing.(*T).Run.func1()
      /usr/lib/go-1.18/src/testing/testing.go:1486 +0x47
==================
--- FAIL: TestMailboxPopBlock (0.10s)
    testing.go:1312: race detected during execution of test
=== TestMailboxClosePushPop: Push/pop after close
=== TestMailboxMultiple: Multiple mailboxes
FAIL
exit status 1
FAIL	github.com/cmu440/tests	0.231s
